<!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="theme-color" content="#4a90e2"><title>å†å²è®°å½• - æ°´å®æé†’</title><link rel="manifest" href="manifest.json"><link rel="stylesheet" href="style.css"><link rel="icon" type="image/x-icon" href="assets/favicon.ico"><link rel="apple-touch-icon" href="assets/icon-192.png"><script src="https://cdn.jsdelivr.net/npm/chart.js"></script><style> .history-container { max-width: 800px; margin: 0 auto; padding: 20px; } .history-header { text-align: center; margin-bottom: 32px; } .history-title { font-size: 2.2rem; color: var(--primary-blue); margin-bottom: 8px; } .history-subtitle { color: var(--text-secondary); font-size: 1.1rem; } .back-to-home { display: inline-flex; align-items: center; gap: 8px; color: var(--primary-blue); text-decoration: none; font-weight: 600; margin-bottom: 20px; padding: 10px 16px; border-radius: var(--radius-md); background: var(--card-bg); border: 2px solid var(--border-color); transition: var(--transition-fast); } .back-to-home:hover { border-color: var(--primary-blue); transform: translateY(-2px); box-shadow: var(--shadow-sm); } /* ç»Ÿè®¡å¡ç‰‡åŒº */ .history-stats { display: grid; grid-template-columns: repeat(2, 1fr); gap: 20px; margin-bottom: 32px; } @media (max-width: 600px) { .history-stats { grid-template-columns: 1fr; } } .history-stat-card { background: var(--card-bg); border-radius: var(--radius-lg); padding: 24px; box-shadow: var(--shadow-md); text-align: center; border-left: 6px solid var(--primary-blue); } .history-stat-card h3 { font-size: 1rem; color: var(--text-secondary); margin-bottom: 12px; } .history-stat-value { font-size: 2.5rem; font-weight: 800; color: var(--primary-blue); margin-bottom: 8px; } .history-stat-desc { font-size: 0.9rem; color: var(--text-secondary); } /* è§†å›¾æ§åˆ¶åŒº */ .view-controls { display: flex; justify-content: space-between; align-items: center; margin-bottom: 24px; padding: 20px; background: var(--card-bg); border-radius: var(--radius-lg); box-shadow: var(--shadow-sm); } .view-toggle { display: flex; gap: 12px; } .view-btn { padding: 12px 24px; border-radius: var(--radius-md); border: 2px solid var(--border-color); background: white; font-weight: 600; cursor: pointer; transition: var(--transition-fast); } .view-btn.active { background: var(--primary-blue); color: white; border-color: var(--primary-blue); } .date-range-selector { display: flex; align-items: center; gap: 16px; } .date-input { padding: 10px 16px; border-radius: var(--radius-md); border: 2px solid var(--border-color); font-size: 1rem; } .action-btn { padding: 10px 20px; background: var(--primary-green); color: white; border: none; border-radius: var(--radius-md); font-weight: 600; cursor: pointer; transition: var(--transition-fast); } .action-btn:hover { background: var(--primary-green-light); transform: translateY(-2px); } /* æ—¥å†è§†å›¾ */ .calendar-view { background: var(--card-bg); border-radius: var(--radius-lg); padding: 24px; margin-bottom: 32px; box-shadow: var(--shadow-md); } .calendar-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 24px; padding-bottom: 16px; border-bottom: 2px solid var(--border-color); } .calendar-nav { display: flex; gap: 12px; } .calendar-title { font-size: 1.5rem; font-weight: 700; color: var(--text-primary); } .calendar-nav-btn { width: 40px; height: 40px; border-radius: 50%; border: 2px solid var(--border-color); background: white; display: flex; align-items: center; justify-content: center; cursor: pointer; transition: var(--transition-fast); } .calendar-nav-btn:hover { border-color: var(--primary-blue); background: var(--primary-blue); color: white; } /* å‘¨è§†å›¾æ ·å¼ */ .week-view { display: grid; grid-template-columns: repeat(7, 1fr); gap: 12px; } .month-view { display: grid; grid-template-columns: repeat(7, 1fr); gap: 12px; } .day-header { text-align: center; padding: 12px 8px; font-weight: 600; color: var(--text-secondary); border-bottom: 2px solid var(--border-color); } .day-cell { background: var(--bg-color); border-radius: var(--radius-md); padding: 16px 8px; text-align: center; border: 2px solid transparent; transition: var(--transition-fast); cursor: pointer; } .day-cell:hover { border-color: var(--primary-blue); transform: translateY(-4px); box-shadow: var(--shadow-sm); } .day-cell.today { border-color: var(--primary-green); background: rgba(80, 200, 120, 0.1); } .day-cell.empty { background: transparent; cursor: default; } .day-cell.empty:hover { transform: none; border-color: transparent; box-shadow: none; } .day-date { font-size: 0.9rem; color: var(--text-secondary); margin-bottom: 8px; } .day-cups { font-size: 1.8rem; font-weight: 800; color: var(--primary-blue); margin-bottom: 4px; } .day-goal { font-size: 0.8rem; color: var(--text-secondary); } /* å›¾è¡¨åŒº */ .charts-section { display: grid; grid-template-columns: 1fr; gap: 32px; margin-bottom: 40px; } @media (min-width: 900px) { .charts-section { grid-template-columns: 1fr 1fr; } } .chart-container { background: var(--card-bg); border-radius: var(--radius-lg); padding: 24px; box-shadow: var(--shadow-md); } .chart-title { font-size: 1.3rem; color: var(--text-primary); margin-bottom: 24px; text-align: center; } .chart-wrapper { position: relative; height: 300px; } /* åŠ è½½çŠ¶æ€ */ .loading-spinner { text-align: center; padding: 60px 20px; color: var(--text-secondary); font-size: 1.1rem; } .spinner { width: 40px; height: 40px; border: 4px solid var(--border-color); border-top-color: var(--primary-blue); border-radius: 50%; animation: spin 1s linear infinite; margin: 0 auto 20px; } @keyframes spin { to { transform: rotate(360deg); } } /* ToaståŠ¨ç”» */ @keyframes slideIn { from { transform: translateX(100%); opacity: 0; } to { transform: translateX(0); opacity: 1; } } @keyframes slideOut { from { transform: translateX(0); opacity: 1; } to { transform: translateX(100%); opacity: 0; } } /* Toastæ ·å¼ */ .toast { position: fixed; top: 20px; right: 20px; color: white; padding: 12px 24px; border-radius: var(--radius-md); box-shadow: var(--shadow-md); z-index: 10000; animation: slideIn 0.3s ease; font-weight: 600; } .toast-success { background: var(--primary-green); } .toast-info { background: var(--primary-blue); } .toast-error { background: #ff6b6b; } </style></head><body><div class="history-container"><a href="index.html" class="back-to-home"><span>â†</span><span>è¿”å›é¦–é¡µ</span></a><header class="history-header"><h1 class="history-title">ğŸ“Š å–æ°´å†å²è®°å½•</h1><p class="history-subtitle">æŸ¥çœ‹æ‚¨çš„å–æ°´è¿›åº¦ã€è¶‹åŠ¿å’Œæˆå°±ç»Ÿè®¡</p></header><section class="history-stats" id="statsCards"><div class="history-stat-card"><h3>ç´¯è®¡å–æ°´æ€»æ¯æ•°</h3><div class="history-stat-value" id="totalCups">--</div><p class="history-stat-desc">ä»å¼€å§‹è®°å½•è‡³ä»Š</p></div><div class="history-stat-card"><h3>å¹³å‡æ¯æ—¥æ¯æ•°</h3><div class="history-stat-value" id="avgDailyCups">--</div><p class="history-stat-desc">åŸºäºæœ‰è®°å½•çš„å¤©æ•°</p></div><div class="history-stat-card"><h3>æœ€é•¿è¿ç»­æ‰“å¡å¤©æ•°</h3><div class="history-stat-value" id="maxStreakDays">--</div><p class="history-stat-desc">ä¸é—´æ–­è®°å½•å–æ°´</p></div><div class="history-stat-card"><h3>å·²è§£é”æˆå°±æ€»æ•°</h3><div class="history-stat-value" id="achievementsCount">--</div><p class="history-stat-desc">å…±è®¡8ä¸ªæˆå°±</p></div></section><section class="view-controls"><div class="view-toggle"><button class="view-btn active" data-view="week">å‘¨è§†å›¾</button><button class="view-btn" data-view="month">æœˆè§†å›¾</button></div><div class="date-range-selector"><input type="date" class="date-input" id="startDate"><span>è‡³</span><input type="date" class="date-input" id="endDate"><button class="action-btn" id="applyDateRange">åº”ç”¨èŒƒå›´</button></div></section><section class="calendar-view"><div class="calendar-header"><div class="calendar-nav"><button class="calendar-nav-btn" id="prevPeriod">â†</button><button class="calendar-nav-btn" id="nextPeriod">â†’</button></div><h2 class="calendar-title" id="calendarTitle">æœ¬å‘¨ (2026å¹´2æœˆ)</h2><div></div></div><div class="calendar-content"><div class="week-view" id="weekView"></div><div class="month-view" id="monthView" style="display: none;"></div></div></section><section class="charts-section"><div class="chart-container"><h3 class="chart-title">è¿‘7å¤©å–æ°´è¶‹åŠ¿</h3><div class="chart-wrapper"><canvas id="trendChart"></canvas></div></div><div class="chart-container"><h3 class="chart-title">æœ¬æœˆæ¯æ—¥å–æ°´æƒ…å†µ</h3><div class="chart-wrapper"><canvas id="monthlyChart"></canvas></div></div></section><div class="loading-spinner" id="loadingSpinner"><div class="spinner"></div><p>æ­£åœ¨åŠ è½½å†å²æ•°æ®...</p></div></div><script src="history.js" type="module"></script></body></html>